"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[320],{1320:(k,g,i)=>{i.r(g),i.d(g,{RolesModule:()=>V});var c=i(9808),a=i(3075),p=i(620),e=i(4893),h=i(4765),f=i(5330),b=i(9783),m=i(845),u=i(5315);function C(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"b"),e._uU(4),e.qZA()(),e.TgZ(5,"div",11)(6,"p"),e._UZ(7,"i",12),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"p"),e._UZ(11,"i",13),e._uU(12),e.ALo(13,"date"),e.qZA()(),e.TgZ(14,"div",14)(15,"button",15),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.showEditDialog(s))}),e.qZA(),e.TgZ(16,"button",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.showDeleteDialog(s))}),e.qZA()()()()}if(2&o){const t=l.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(4),e.hij(" Creado: ",e.xi3(9,3,t.createdAt,"dd/MM/yyyy"),""),e.xp6(4),e.hij(" Actualizado: ",e.xi3(13,6,t.updateAt,"dd/MM/yyyy"),"")}}function x(o,l){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",17)(2,"label",18)(3,"b"),e._uU(4,"Nombre del Rol:"),e.qZA()(),e._UZ(5,"br"),e.TgZ(6,"span",19),e._UZ(7,"i",20),e.TgZ(8,"input",21),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedRole.name=r)}),e.qZA()(),e.TgZ(9,"div",22)(10,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveRole())}),e.qZA(),e.TgZ(11,"button",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cancelEdit())}),e.qZA()()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.selectedRole.name)}}function v(o,l){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",17)(2,"p"),e._UZ(3,"i",25),e._uU(4," \xbfDeseas eliminar este rol?"),e.qZA(),e.TgZ(5,"div",22)(6,"button",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteRole(r.selectedRole.id))}),e.qZA(),e.TgZ(7,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cancelDelete())}),e.qZA()()(),e.BQk()}}const _=function(){return{width:"30vw"}},y=[{path:"ver",component:(()=>{class o{constructor(t,n,r){this.rolesService=t,this.dialogService=n,this.messageService=r,this.roles=[],this.selectedRole={},this.isCreating=!1,this.isEditing=!1,this.dialogVisible=!1,this.dialogType="",this.dialogHeader=""}ngOnInit(){this.loadRoles()}loadRoles(){this.rolesService.getRoles().subscribe(t=>{this.roles=t})}createRole(){this.showCreateDialog()}editRole(t){this.showEditDialog(t)}saveRole(){const t={name:this.selectedRole.name,status:this.selectedRole.status};"create"===this.dialogType?this.rolesService.createRole(t).subscribe(()=>{this.loadRoles(),this.closeDialog(),this.messageService.add({severity:"success",summary:"Roles",detail:"Rol Creado exitosamente"})},n=>{console.error("Error al crear el rol:",n),this.messageService.add({severity:"error",summary:"Error",detail:"Error al crear el rol"})}):"edit"===this.dialogType&&this.rolesService.updateRole(this.selectedRole.id,t).subscribe(()=>{this.loadRoles(),this.closeDialog(),this.messageService.add({severity:"success",summary:"Roles",detail:"Rol editado exitosamente"})},n=>{console.error("Error al editar el rol:",n),this.messageService.add({severity:"error",summary:"Error",detail:"Error al editar el rol"})})}cancelEdit(){this.closeDialog()}deleteRole(t){this.rolesService.deleteRole(t).subscribe(()=>{this.loadRoles(),this.closeDialog(),this.messageService.add({severity:"success",summary:"Roles",detail:"Rol eliminado exitosamente"})},n=>{console.error("Error al eliminar el rol:",n),this.messageService.add({severity:"error",summary:"Error",detail:"Error al eliminar el rol"})})}showCreateDialog(){this.dialogType="create",this.dialogHeader="Crear Rol",this.selectedRole={name:""},this.dialogVisible=!0}showEditDialog(t){this.dialogType="edit",this.dialogHeader="Editar Rol",this.selectedRole=Object.assign({},t),this.dialogVisible=!0}showDeleteDialog(t){this.dialogType="delete",this.dialogHeader="Eliminar Rol",this.selectedRole=Object.assign({},t),this.dialogVisible=!0}cancelDelete(){this.closeDialog()}closeDialog(){this.dialogVisible=!1,this.dialogType="",this.dialogHeader="",this.selectedRole={}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.f),e.Y36(f.xA),e.Y36(b.ez))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ver"]],decls:10,vars:12,consts:[[1,"roles-container"],[1,"roles-title"],[1,"create-button-container"],["pButton","","type","button","icon","pi pi-plus","label","Crear Rol",1,"p-button-success","create-role-button",3,"click"],[1,"roles-list"],["class","role-card",4,"ngFor","ngForOf"],[1,"custom-dialog",3,"visible","modal","responsive","showHeader","closable","dismissableMask","visibleChange"],[4,"ngIf"],[1,"role-card"],[1,"p-card"],[1,"role-header"],[1,"role-info"],[1,"pi","pi-calendar"],[1,"pi","pi-refresh"],[1,"role-actions"],["pButton","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-secondary",3,"click"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"dialog-content"],["for","roleName"],[1,"p-input-icon-left"],[1,"pi","pi-user"],["id","roleName","placeholder","Ingrese el nombre",1,"p-inputtext","p-input-with-icon",3,"ngModel","ngModelChange"],[1,"dialog-buttons"],["pButton","","icon","pi pi-check","label","Guardar",1,"p-button-success",3,"click"],["pButton","","icon","pi pi-times","label","Cancelar",1,"p-button-danger",3,"click"],[1,"pi","pi-exclamation-triangle"],["pButton","","icon","pi pi-check","label","Confirmar",1,"p-button-danger",3,"click"],["pButton","","icon","pi pi-times","label","Cancelar",1,"p-button-secondary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Gesti\xf3n de Roles"),e.qZA()(),e.TgZ(3,"div",2)(4,"button",3),e.NdJ("click",function(){return n.showCreateDialog()}),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,C,17,9,"div",5),e.qZA(),e.TgZ(7,"p-dialog",6),e.NdJ("visibleChange",function(s){return n.dialogVisible=s}),e.YNc(8,x,12,1,"ng-container",7),e.YNc(9,v,8,0,"ng-container",7),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.roles),e.xp6(1),e.Akn(e.DdM(11,_)),e.Q6J("visible",n.dialogVisible)("modal",!0)("responsive",!0)("showHeader",!1)("closable",!1)("dismissableMask",!1),e.xp6(1),e.Q6J("ngIf","create"===n.dialogType||"edit"===n.dialogType),e.xp6(1),e.Q6J("ngIf","delete"===n.dialogType))},dependencies:[c.sg,c.O5,a.Fj,a.JJ,a.On,m.Hq,u.V,c.uU],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;font-family:Poppins,sans-serif;background-color:#f4f7fc;color:#333}.roles-title[_ngcontent-%COMP%]{font-size:2rem;text-align:center;font-weight:800;color:#1a1a1a;text-transform:uppercase;margin:1rem 0 1.5rem}.create-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:2rem}.create-role-button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1rem;font-weight:600;border-radius:8px}.roles-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;justify-content:center;padding:0 1rem 2rem}.role-card[_ngcontent-%COMP%]{flex:1 1 300px;max-width:320px}.p-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:16px;box-shadow:0 8px 24px #0000000d;transition:transform .2s ease,box-shadow .2s ease}.p-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 28px #0000001a}.role-header[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;text-align:center;color:#2c3e50;margin-bottom:.5rem}.role-info[_ngcontent-%COMP%]{font-size:.95rem;text-align:center;color:#7f8c8d;line-height:1.5}.role-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px;color:#3498db}.role-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:1rem}.p-button-rounded[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;justify-content:center;align-items:center}.custom-dialog[_ngcontent-%COMP%]{max-width:450px;width:90%;border-radius:16px;overflow:hidden;box-shadow:0 12px 24px #00000026}.dialog-content[_ngcontent-%COMP%]{padding:2rem;text-align:center;background-color:#fff}.dialog-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;display:block;margin-bottom:.5rem}.p-inputtext[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #ccc;border-radius:8px;font-size:.95rem;margin-top:.5rem}.p-input-with-icon[_ngcontent-%COMP%]{padding-left:2.5rem}.dialog-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:1.5rem}.p-input-icon-left[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;margin-left:1rem;margin-top:.75rem;color:#888}@media (max-width: 768px){.role-card[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.roles-title[_ngcontent-%COMP%]{font-size:1.5rem}.create-role-button[_ngcontent-%COMP%]{width:90%;font-size:.95rem}.dialog-buttons[_ngcontent-%COMP%]{flex-direction:column}.dialog-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(y),p.Bz]}),o})();var R=i(6697),T=i(1424),O=i(657),Z=i(1497),P=i(1874),w=i(7307),A=i(4297);let V=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,M,a.u5,a.UX,R.U$,T.j,m.hJ,O.kK,Z.EV,u.S,w.n,A.d,P.$9]}),o})()}}]);